<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html"><link rel="search" title="Search" href="../search.html"><link rel="next" title="Tutorials" href="../tutorials/index.html"><link rel="prev" title="Quick Start" href="quickstart.html">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>AMASS Data Preparation - ProtoMotions documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">ProtoMotions  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">ProtoMotions  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">AMASS Data Preparation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/code_tutorials.html">Code Tutorials (Progressive Series)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/workflows/amass_smpl.html">SMPL Training on AMASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/workflows/retargeting_pyroki.html">Retargeting with PyRoki</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/workflows/vaulting.html">Scene Workflow (Vaulting)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/workflows/domain_randomization.html">Domain Randomization &amp; Sim2Sim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/workflows/custom_robot.html">Adding a Custom Robot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/challenges.html">Challenges</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/configuration.html">Configuration System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/experiments.html">Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/developer_tips.html">Developer Tips</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Key Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Key Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/architecture.html">Architecture Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/abstractions.html">Core Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/pose_lib.html">PoseLib Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/simulator_state.html">Simulator State</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/index.html">API Reference</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api_reference/protomotions.agents.html">protomotions.agents package</a><input aria-label="Toggle navigation of protomotions.agents package" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_reference/protomotions.agents.amp.html">protomotions.agents.amp package</a><input aria-label="Toggle navigation of protomotions.agents.amp package" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.amp.agent.html">protomotions.agents.amp.agent module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.amp.config.html">protomotions.agents.amp.config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.amp.model.html">protomotions.agents.amp.model module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_reference/protomotions.agents.ase.html">protomotions.agents.ase package</a><input aria-label="Toggle navigation of protomotions.agents.ase package" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.ase.agent.html">protomotions.agents.ase.agent module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.ase.config.html">protomotions.agents.ase.config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.ase.model.html">protomotions.agents.ase.model module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_reference/protomotions.agents.base_agent.html">protomotions.agents.base_agent package</a><input aria-label="Toggle navigation of protomotions.agents.base_agent package" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.base_agent.agent.html">protomotions.agents.base_agent.agent module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.base_agent.config.html">protomotions.agents.base_agent.config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.base_agent.model.html">protomotions.agents.base_agent.model module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_reference/protomotions.agents.callbacks.html">protomotions.agents.callbacks package</a><input aria-label="Toggle navigation of protomotions.agents.callbacks package" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.callbacks.slurm_autoresume_srun.html">protomotions.agents.callbacks.slurm_autoresume_srun module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_reference/protomotions.agents.common.html">protomotions.agents.common package</a><input aria-label="Toggle navigation of protomotions.agents.common package" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.common.common.html">protomotions.agents.common.common module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.common.config.html">protomotions.agents.common.config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.common.mlp.html">protomotions.agents.common.mlp module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.common.transformer.html">protomotions.agents.common.transformer module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_reference/protomotions.agents.evaluators.html">protomotions.agents.evaluators package</a><input aria-label="Toggle navigation of protomotions.agents.evaluators package" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.evaluators.base_evaluator.html">protomotions.agents.evaluators.base_evaluator module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.evaluators.config.html">protomotions.agents.evaluators.config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.evaluators.metrics.html">protomotions.agents.evaluators.metrics module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.evaluators.mimic_evaluator.html">protomotions.agents.evaluators.mimic_evaluator module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.evaluators.smoothness_evaluator.html">protomotions.agents.evaluators.smoothness_evaluator module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_reference/protomotions.agents.masked_mimic.html">protomotions.agents.masked_mimic package</a><input aria-label="Toggle navigation of protomotions.agents.masked_mimic package" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.masked_mimic.agent.html">protomotions.agents.masked_mimic.agent module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.masked_mimic.config.html">protomotions.agents.masked_mimic.config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.masked_mimic.model.html">protomotions.agents.masked_mimic.model module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.agents.mimic.html">protomotions.agents.mimic package</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_reference/protomotions.agents.ppo.html">protomotions.agents.ppo package</a><input aria-label="Toggle navigation of protomotions.agents.ppo package" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.ppo.agent.html">protomotions.agents.ppo.agent module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.ppo.config.html">protomotions.agents.ppo.config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.ppo.model.html">protomotions.agents.ppo.model module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.ppo.utils.html">protomotions.agents.ppo.utils module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_reference/protomotions.agents.utils.html">protomotions.agents.utils package</a><input aria-label="Toggle navigation of protomotions.agents.utils package" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.utils.data.html">protomotions.agents.utils.data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.utils.metering.html">protomotions.agents.utils.metering module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.utils.normalization.html">protomotions.agents.utils.normalization module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.utils.replay_buffer.html">protomotions.agents.utils.replay_buffer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.utils.step_tracker.html">protomotions.agents.utils.step_tracker module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference/protomotions.agents.utils.training.html">protomotions.agents.utils.training module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/protomotions.envs.html">protomotions.envs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/protomotions.simulator.html">protomotions.simulator package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/protomotions.robot_configs.html">protomotions.robot_configs module</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api_reference/protomotions.utils.html">protomotions.utils package</a><input aria-label="Toggle navigation of protomotions.utils package" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.utils.component_builder.html">protomotions.utils.component_builder module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.utils.config_builder.html">protomotions.utils.config_builder module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.utils.config_utils.html">protomotions.utils.config_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.utils.export_utils.html">protomotions.utils.export_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.utils.fabric_config.html">protomotions.utils.fabric_config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.utils.hydra_replacement.html">protomotions.utils.hydra_replacement module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.utils.inference_utils.html">protomotions.utils.inference_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.utils.mesh_utils.html">protomotions.utils.mesh_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.utils.motion_interpolation_utils.html">protomotions.utils.motion_interpolation_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.utils.rotations.html">protomotions.utils.rotations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.utils.simulator_imports.html">protomotions.utils.simulator_imports module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_reference/protomotions.utils.torch_utils.html">protomotions.utils.torch_utils module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/scripts.html">Training and Evaluation Scripts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
</ul>

</div></div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="amass-data-preparation">
<h1>AMASS Data Preparation<a class="headerlink" href="#amass-data-preparation" title="Link to this heading">¶</a></h1>
<p>This guide covers converting raw AMASS motion data into ProtoMotions format for training.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>The conversion pipeline transforms AMASS <code class="docutils literal notranslate"><span class="pre">.npz</span></code> files (axis-angle poses + root translations)
into ProtoMotions <code class="docutils literal notranslate"><span class="pre">.motion</span></code> files containing full rigid body states (positions, rotations,
velocities, contacts). These are then packaged into a single <code class="docutils literal notranslate"><span class="pre">.pt</span></code> MotionLib file for
efficient training.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>AMASS .npz files
     │
     ▼ (convert_amass_to_proto.py)
ProtoMotions .motion files
     │
     ▼ (motion_lib.py --motion-path)
Packaged .pt MotionLib
</pre></div>
</div>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p><strong>Download AMASS</strong>: Register and download from <a class="reference external" href="https://amass.is.tue.mpg.de/">AMASS website</a></p></li>
<li><p><strong>SMPL/SMPL-X models</strong>: Required for body model conversion (see below)</p></li>
</ol>
<section id="downloading-smpl-body-models">
<h3>Downloading SMPL Body Models<a class="headerlink" href="#downloading-smpl-body-models" title="Link to this heading">¶</a></h3>
<p>Download body models from <a class="reference external" href="https://smpl.is.tue.mpg.de/">SMPL</a> and
<a class="reference external" href="https://smpl-x.is.tue.mpg.de/">SMPL-X</a>. Unzip them into the <code class="docutils literal notranslate"><span class="pre">data/smpl/</span></code> folder.</p>
<p><strong>For SMPL</strong>: Download the <strong>v1.1.0</strong> version (contains neutral model). Rename the files:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">basicmodel_neutral_lbs_10_207_0_v1.1.0.pkl</span></code> → <code class="docutils literal notranslate"><span class="pre">SMPL_NEUTRAL.pkl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">basicmodel_m_lbs_10_207_0_v1.1.0.pkl</span></code> → <code class="docutils literal notranslate"><span class="pre">SMPL_MALE.pkl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">basicmodel_f_lbs_10_207_0_v1.1.0.pkl</span></code> → <code class="docutils literal notranslate"><span class="pre">SMPL_FEMALE.pkl</span></code></p></li>
</ul>
<p><strong>For SMPL-X</strong>: Download the <strong>v1.1</strong> version. Rename the files to <code class="docutils literal notranslate"><span class="pre">SMPLX_NEUTRAL.pkl</span></code>,
<code class="docutils literal notranslate"><span class="pre">SMPLX_MALE.pkl</span></code>, <code class="docutils literal notranslate"><span class="pre">SMPLX_FEMALE.pkl</span></code>.</p>
<p>The file structure should look like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>data/smpl/
  ├── SMPL_NEUTRAL.pkl
  ├── SMPL_MALE.pkl
  ├── SMPL_FEMALE.pkl
  ├── SMPLX_NEUTRAL.pkl   # Only needed for --humanoid-type smplx
  ├── SMPLX_MALE.pkl
  └── SMPLX_FEMALE.pkl
</pre></div>
</div>
</section>
</section>
<section id="quick-start-convenience-script">
<h2>Quick Start: Convenience Script<a class="headerlink" href="#quick-start-convenience-script" title="Link to this heading">¶</a></h2>
<p>For a one-click solution, use the provided convenience script that runs the full
conversion and packaging pipeline:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>data/scripts/convert_amass_to_motionlib.py<span class="w"> </span>&lt;amass_root_dir&gt;<span class="w"> </span>&lt;output_dir&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--motion-config<span class="w"> </span>&lt;config1.yaml&gt;<span class="w"> </span><span class="o">[</span>--motion-config<span class="w"> </span>&lt;config2.yaml&gt;<span class="w"> </span>...<span class="o">]</span>
</pre></div>
</div>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">amass_root_dir</span></code>: Root directory containing AMASS subfolders with <code class="docutils literal notranslate"><span class="pre">.npz</span></code> files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_dir</span></code>: Directory for the packaged <code class="docutils literal notranslate"><span class="pre">.pt</span></code> MotionLib files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--motion-config</span></code>: YAML file(s) containing motion configurations. Each creates a separate <code class="docutils literal notranslate"><span class="pre">.pt</span></code> file. Can be specified multiple times.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--humanoid-type</span></code>: <code class="docutils literal notranslate"><span class="pre">smpl</span></code> (24 joints) or <code class="docutils literal notranslate"><span class="pre">smplx</span></code> (52 joints). Default: <code class="docutils literal notranslate"><span class="pre">smpl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--output-fps</span></code>: Target output FPS for motion files. Default: 30</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--force-remake</span></code>: Overwrite existing <code class="docutils literal notranslate"><span class="pre">.motion</span></code> files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--device</span></code>: Device to use for packaging (<code class="docutils literal notranslate"><span class="pre">cpu</span></code> or <code class="docutils literal notranslate"><span class="pre">cuda</span></code>). Default: <code class="docutils literal notranslate"><span class="pre">cpu</span></code></p></li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create train/test/validation splits from YAML configs</span>
python<span class="w"> </span>data/scripts/convert_amass_to_motionlib.py<span class="w"> </span>/path/to/amass_root<span class="w"> </span>/path/to/output<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--motion-config<span class="w"> </span>data/yaml_files/amass_smpl_train.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--motion-config<span class="w"> </span>data/yaml_files/amass_smpl_test.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--motion-config<span class="w"> </span>data/yaml_files/amass_smpl_validation.yaml

<span class="c1"># Use SMPL-X humanoid</span>
python<span class="w"> </span>data/scripts/convert_amass_to_motionlib.py<span class="w"> </span>/path/to/amass_root<span class="w"> </span>/path/to/output<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--humanoid-type<span class="w"> </span>smplx<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--motion-config<span class="w"> </span>data/yaml_files/amass_smplx_train.yaml
</pre></div>
</div>
<p>The script runs all steps automatically and outputs the final MotionLib <code class="docutils literal notranslate"><span class="pre">.pt</span></code> files:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>output/
  ├── amass_smpl_train.pt
  ├── amass_smpl_test.pt
  └── amass_smpl_validation.pt
</pre></div>
</div>
</section>
<section id="step-by-step-guide">
<h2>Step-by-Step Guide<a class="headerlink" href="#step-by-step-guide" title="Link to this heading">¶</a></h2>
<section id="step-1-convert-amass-to-motion-files">
<h3>Step 1: Convert AMASS to .motion Files<a class="headerlink" href="#step-1-convert-amass-to-motion-files" title="Link to this heading">¶</a></h3>
<p>Convert AMASS <code class="docutils literal notranslate"><span class="pre">.npz</span></code> files to ProtoMotions <code class="docutils literal notranslate"><span class="pre">.motion</span></code> format:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>data/scripts/convert_amass_to_proto.py<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>/path/to/amass_root<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--humanoid-type<span class="w"> </span>smpl<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output-fps<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--motion-config<span class="w"> </span>data/yaml_files/amass_smpl_train.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--motion-config<span class="w"> </span>data/yaml_files/amass_smpl_test.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--motion-config<span class="w"> </span>data/yaml_files/amass_smpl_validation.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--force-remake
</pre></div>
</div>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">amass_root_dir</span></code>: Root directory containing AMASS subfolders</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--humanoid-type</span></code>: <code class="docutils literal notranslate"><span class="pre">smpl</span></code> (24 joints) or <code class="docutils literal notranslate"><span class="pre">smplx</span></code> (52 joints)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--output-fps</span></code>: Target output FPS (default: 30)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--force-remake</span></code>: Overwrite existing converted files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--motion-config</span></code>: YAML files for motion selection and slicing. Can be specified multiple times.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">--motion-config</span></code> YAML files define the start and end times for each motion.
These time ranges specify physically plausible segments within each raw AMASS recording
(e.g., excluding T-pose calibration frames or problematic sections).</p>
<p><strong>What the Script Does:</strong></p>
<ol class="arabic simple">
<li><p><strong>Load AMASS data</strong>: Reads <code class="docutils literal notranslate"><span class="pre">.npz</span></code> files containing:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">poses</span></code>: Joint rotations in axis-angle format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trans</span></code>: Root translations</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mocap_framerate</span></code>: Original capture FPS</p></li>
</ul>
</li>
<li><p><strong>Downsample</strong>: Finds the largest divisor of the source FPS that is &gt;= target FPS.
For example, 120 FPS source with 30 FPS target uses every 4th frame.</p></li>
<li><p><strong>Forward Kinematics</strong>: Computes full rigid body state:</p>
<ul class="simple">
<li><p>World positions and rotations for all bodies</p></li>
<li><p>Linear and angular velocities (via finite differences)</p></li>
<li><p>DOF positions and velocities</p></li>
</ul>
</li>
<li><p><strong>Contact Detection</strong>: Labels ground contacts using thresholds:</p>
<ul class="simple">
<li><p>Velocity threshold: 0.15 m/s</p></li>
<li><p>Height threshold: 0.1 m</p></li>
</ul>
</li>
<li><p><strong>Height Fixing</strong>: Adjusts motion so feet don’t penetrate the ground or float
above it. Shifts the entire motion vertically so the lowest joint during the
motion matches the toe offset (height of the toe from ground in T-pose):
0.015m for SMPL, 0.017m for SMPL-X.</p></li>
</ol>
</section>
<section id="step-2-package-into-motionlib">
<h3>Step 2: Package into MotionLib<a class="headerlink" href="#step-2-package-into-motionlib" title="Link to this heading">¶</a></h3>
<p>Package individual <code class="docutils literal notranslate"><span class="pre">.motion</span></code> files into a single <code class="docutils literal notranslate"><span class="pre">.pt</span></code> file. The YAML config
determines which motions are included in each package:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Package training set</span>
python<span class="w"> </span>protomotions/components/motion_lib.py<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--motion-path<span class="w"> </span>data/yaml_files/amass_smpl_train.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output-file<span class="w"> </span>/path/to/amass_smpl_train.pt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--device<span class="w"> </span>cpu

<span class="c1"># Package test set</span>
python<span class="w"> </span>protomotions/components/motion_lib.py<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--motion-path<span class="w"> </span>data/yaml_files/amass_smpl_test.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output-file<span class="w"> </span>/path/to/amass_smpl_test.pt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--device<span class="w"> </span>cpu
</pre></div>
</div>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--motion-path</span></code>: Path to YAML config file listing motions to package (or directory of <code class="docutils literal notranslate"><span class="pre">.motion</span></code> files)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--output-file</span></code>: Output path for the packaged <code class="docutils literal notranslate"><span class="pre">.pt</span></code> file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--device</span></code>: Device to use (<code class="docutils literal notranslate"><span class="pre">cpu</span></code> or <code class="docutils literal notranslate"><span class="pre">cuda</span></code>)</p></li>
</ul>
<p>The YAML config specifies which motions belong to each split (train/test/validation),
so you run this step once per config to create separate <code class="docutils literal notranslate"><span class="pre">.pt</span></code> files.</p>
<p><strong>Why package?</strong> While you can load motions directly from a YAML file, packaging
pre-processes the dataset once and saves it as a single <code class="docutils literal notranslate"><span class="pre">.pt</span></code> file. This makes
subsequent loads much faster since the motions don’t need to be re-processed each time.</p>
<p><strong>Output:</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Loading motions from yaml/npy file or Directory of motions which is slower
Loaded 1234 motions with a total length of 12345.6s.
Motion library saved to amass_train.pt
</pre></div>
</div>
</section>
<section id="step-3-verify-with-motion-visualizer">
<h3>Step 3: Verify with Motion Visualizer<a class="headerlink" href="#step-3-verify-with-motion-visualizer" title="Link to this heading">¶</a></h3>
<p>Before training, verify the converted motions look correct using the motion
visualizer:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>examples/motion_libs_visualizer.py<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--motion_files<span class="w"> </span>/path/to/amass_smpl_train.pt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--robot<span class="w"> </span>smpl<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--simulator<span class="w"> </span>isaaclab
</pre></div>
</div>
<p><strong>Controls:</strong></p>
<ul class="simple">
<li><p><strong>R</strong>: Switch to next motion</p></li>
<li><p><strong>1/2</strong>: Increase/decrease playback speed</p></li>
<li><p><strong>3/4</strong>: Adjust smoothness threshold for highlighting</p></li>
</ul>
</section>
</section>
<section id="yaml-motion-config-format">
<h2>YAML Motion Config Format<a class="headerlink" href="#yaml-motion-config-format" title="Link to this heading">¶</a></h2>
<p>YAML config files define which motions to include, with optional timing slices
and sampling weights:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">motions</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CMU/45/45_01_poses.motion</span>
<span class="w">    </span><span class="nt">fps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">120.0</span>
<span class="w">    </span><span class="nt">weight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">    </span><span class="nt">sub_motions</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">timings</span><span class="p">:</span>
<span class="w">          </span><span class="nt">start</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span>
<span class="w">          </span><span class="nt">end</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.8</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CMU/138/138_06_poses.motion</span>
<span class="w">    </span><span class="nt">fps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">120.0</span>
<span class="w">    </span><span class="nt">weight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0</span><span class="w">  </span><span class="c1"># Sample this motion twice as often</span>
<span class="w">    </span><span class="nt">sub_motions</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">timings</span><span class="p">:</span>
<span class="w">          </span><span class="nt">start</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5</span>
<span class="w">          </span><span class="nt">end</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.0</span>
</pre></div>
</div>
<p><strong>Fields:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">file</span></code>: Path to motion file (relative to amass_root_dir)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fps</span></code>: Original motion capture FPS</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">weight</span></code>: Sampling weight (higher = sampled more often during training)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sub_motions</span></code>: List of time slices to extract</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timings.start</span></code>: Start time in seconds</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timings.end</span></code>: End time in seconds</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Pre-built YAML configs for standard AMASS train/test/validation splits are
available in <code class="docutils literal notranslate"><span class="pre">data/yaml_files/</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">amass_smpl_train.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">amass_smpl_test.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">amass_smpl_validation.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">amass_smplx_train.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">amass_smplx_test.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">amass_smplx_validation.yaml</span></code></p></li>
</ul>
</div>
</section>
<section id="smpl-vs-smpl-x">
<h2>SMPL vs SMPL-X<a class="headerlink" href="#smpl-vs-smpl-x" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><strong>SMPL</strong>: 24 joints (23 non-root). Simpler body model.</p></li>
<li><p><strong>SMPL-X</strong>: 52 joints (51 non-root). Includes hands with fingers.</p></li>
</ul>
<p>For SMPL-X, FPS information is loaded from <code class="docutils literal notranslate"><span class="pre">data/yaml_files/motion_fps_amassx.yaml</span></code>
when not present in the <code class="docutils literal notranslate"><span class="pre">.npz</span></code> file.</p>
</section>
<section id="training-with-motionlib">
<h2>Training with MotionLib<a class="headerlink" href="#training-with-motionlib" title="Link to this heading">¶</a></h2>
<p>Once packaged, use in training:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>protomotions/train_agent.py<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--robot-name<span class="w"> </span>smpl<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--simulator<span class="w"> </span>isaacgym<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--experiment-path<span class="w"> </span>examples/experiments/mimic/mlp.py<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--experiment-name<span class="w"> </span>smpl_amass<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--motion-file<span class="w"> </span>/path/to/amass_train.pt<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--num-envs<span class="w"> </span><span class="m">4096</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--batch-size<span class="w"> </span><span class="m">16384</span>
</pre></div>
</div>
</section>
<section id="multi-gpu-training-with-sharded-motionlibs">
<h2>Multi-GPU Training with Sharded MotionLibs<a class="headerlink" href="#multi-gpu-training-with-sharded-motionlibs" title="Link to this heading">¶</a></h2>
<p>For very large datasets, you can shard the motion library across GPUs. Name files
with the pattern <code class="docutils literal notranslate"><span class="pre">*_slurmrank.pt</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>amass_0.pt  # Loaded by rank 0
amass_1.pt  # Loaded by rank 1
amass_2.pt  # Loaded by rank 2
amass_3.pt  # Loaded by rank 3
</pre></div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">amass_slurmrank.pt</span></code> as the motion file path, and each rank will automatically
load its corresponding shard.</p>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">¶</a></h2>
<p><strong>Missing FPS in SMPL-X files</strong>: Ensure <code class="docutils literal notranslate"><span class="pre">data/yaml_files/motion_fps_amassx.yaml</span></code>
contains FPS entries for your motions.</p>
<p><strong>Out of memory</strong>: Process subsets of motions or use <code class="docutils literal notranslate"><span class="pre">--device</span> <span class="pre">cpu</span></code>.</p>
<p><strong>Motions look wrong</strong>: Verify the humanoid type matches your AMASS download
(SMPL vs SMPL-X).</p>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../tutorials/workflows/amass_smpl.html"><span class="doc">SMPL Training on AMASS</span></a> - Full SMPL training workflow</p></li>
<li><p><a class="reference internal" href="../tutorials/workflows/retargeting_pyroki.html"><span class="doc">Retargeting with PyRoki</span></a> - Retarget motions to robots</p></li>
</ul>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../tutorials/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Tutorials</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="quickstart.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Quick Start</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, ProtoMotions Developers
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">AMASS Data Preparation</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a><ul>
<li><a class="reference internal" href="#downloading-smpl-body-models">Downloading SMPL Body Models</a></li>
</ul>
</li>
<li><a class="reference internal" href="#quick-start-convenience-script">Quick Start: Convenience Script</a></li>
<li><a class="reference internal" href="#step-by-step-guide">Step-by-Step Guide</a><ul>
<li><a class="reference internal" href="#step-1-convert-amass-to-motion-files">Step 1: Convert AMASS to .motion Files</a></li>
<li><a class="reference internal" href="#step-2-package-into-motionlib">Step 2: Package into MotionLib</a></li>
<li><a class="reference internal" href="#step-3-verify-with-motion-visualizer">Step 3: Verify with Motion Visualizer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#yaml-motion-config-format">YAML Motion Config Format</a></li>
<li><a class="reference internal" href="#smpl-vs-smpl-x">SMPL vs SMPL-X</a></li>
<li><a class="reference internal" href="#training-with-motionlib">Training with MotionLib</a></li>
<li><a class="reference internal" href="#multi-gpu-training-with-sharded-motionlibs">Multi-GPU Training with Sharded MotionLibs</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li><a class="reference internal" href="#next-steps">Next Steps</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=8a448e45"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=30646c52"></script>
    </body>
</html>